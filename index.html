<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="ブラウザで動作するAudio Visualizer">
  <meta name="keywords" content="audio, visualizer, music, webaudio">
  <meta name="author" content="Ryo">
  <meta name="theme-color" content="#23265f">
  <meta name="robots" content="index, follow">
  <link rel="icon" href="./assets/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="./assets/favicon.png" type="image/png">
  <link rel="manifest" href="manifest.json">

  <meta property="og:title" content="Audio Visualizer">
  <meta property="og:description" content="ブラウザで動作するAudio Visualizer">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://veda00133912.github.io/Audio-Visualizer">
  <meta property="og:image" content="https://raw.githubusercontent.com/VEDA00133912/Audio-Visualizer/refs/heads/main/assets/preview.png">
  <meta property="og:site_name" content="Audio Visualizer">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Audio Visualizer">
  <meta name="twitter:description" content="ブラウザで動作するAudio Visualizer">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/VEDA00133912/Audio-Visualizer/refs/heads/main/assets/preview.png">

  <title>Audio Visualizer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="wrap">
  <h1>Audio Visualizer</h1>

  <div class="controls">
    <label class="file-drop" id="drop">
      音声ファイルをドロップするかクリックして選択
      <input type="file" id="file" accept="audio/*" style="display:none">
    </label>

    <button id="play" class="secondary">▶️</button>
    <button id="stop" class="secondary">⏹️</button>

    <button id="settingsBtn" style="margin-top:8px;" class="settingBtn">詳細設定</button>
    
    <div id="settingsModal" class="modal">
      <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
    
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px;">
          <label style="font-size:13px;color:var(--muted)">音　量</label>
          <input id="vol" type="range" min="0" max="2" step="0.01" value="0.9">
          <span id="volValue">1.00倍</span>
        </div>
    
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px;">
          <label style="font-size:13px;color:var(--muted)">速　度</label>
          <input id="speed" type="range" min="0.5" max="2" step="0.01" value="1">
          <span id="speedValue">1.00x</span>
        </div>
          
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px;">
          <label style="font-size:13px;color:var(--muted)">バー数</label>
          <input id="bars" type="range" min="16" max="256" step="1" value="150">
          <span id="barsValue">150.00本</span>
        </div>

        <div style="margin-top:12px; text-align:right;">
          <button id="resetSettings" class="secondary">初期化</button>
        </div>
              
      </div>
    </div>
  </div>

  <div class="canvas-wrap" style="height:auto;">
    <canvas id="visualCanvas" style="height:120px;">bars canvas</canvas>
    <canvas id="waveCanvas" style="height:120px;margin-top:8px;">wave canvas</canvas>
  </div>

  <div class="progress">
    <input id="seek" type="range" min="0" max="100" step="0.1" value="0">
  </div>

  <div class="meta">
    <div id="trackInfo" class="track">--</div>
    <div class="meta-row">
      <div id="timeInfo">00:00 / 00:00</div>
      <div id="offsetInfo">OFFSET: 0.00s</div>
      <div id="typeInfo">TYPE: --</div>
    </div>
  </div>

  <div class="footer-note">
    Web Audio APIをサポートしているブラウザで動作します
  </div>
</div>

<footer class="footer">
  <p>&copy; <span id="year"></span> ryo001339 All rights reserved.</p>
</footer>

<script src="script.js"></script>
</body>
</html>
